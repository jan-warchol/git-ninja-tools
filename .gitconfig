[alias]
    # COMMON SHORTHANDS

    ap = add --patch   # choose which hunks to add - very useful
    au = add --update   # stage only changes in tracked files

    br = branch
    co = checkout

    # see what you're commiting when editing the commit message
    ci = commit --verbose

    d = diff
    dd = diff --submodule=diff
    wd = diff --word-diff=color   # mnemonic: Word-Diff

    g3 = grep --line-number --context 3

    please = push --force-with-lease   # never use plain --force!
    # unlike plain `pull`, this won't attempt a merge that may result in conflicts
    pl = pull --ff-only

    rb = rebase
    rbo = rebase --onto   # quite useful, see examples in 'git help rebase'
    rbi = rebase --interactive

    rs = reset
    rs1 = reset HEAD~1   # "soft undo" - remove last commit, but keep its changes

    s = status --short   # see also --branch option
    st = !git -c status.submodulesummary=false status && git detailed-submodule-status

    supdate = submodule update --init --recursive


    # PRETTY LOGS

    # compact log with wrapped lines and inobtrusive author info
    ls = log --graph --date=relative --format='%C(auto)%h%d %C(dim)%an, %ad%C(reset)%n%w(80,2,2)%s'

    # one-line log for maximum brevity
    li = log --graph --date=relative --format=tformat:'%C(auto)%h%C(reset) -%C(auto)%d%C(reset) %s %C(dim)- %an, %ad%C(reset)'

    # log All local and remote branches
    la = ls HEAD --branches --remotes

    # log both HEAD and its Upstream (if present)
    lu = !git ls HEAD `git for-each-ref --format='%(upstream:short)' HEAD $(git symbolic-ref --quiet HEAD)`

    # Long format - full commit message and summary of changes
    ll = log --graph --stat-graph-width=30 --stat-count=30

    # show changes in files (and commits in case of submodules)
    lp = log --patch --submodule=log --topo-order
    lpp = log --patch --submodule=diff --topo-order

    # reflog with dates and commit message subject
    rf = !GIT_PAGER='less -REXS' git log --walk-reflogs --format='%C(dim)%<(21,trunc)%ci%x08%x08%x08%x08%x08 %C(reset)%gd%C(reset): %C(auto)%h%C(reset) %gs %C(dim)- %<(33,trunc)%s%C(reset)'


[color]
    ui = auto

[color "status"]
    # use different color than untracked and unmerged paths have
    changed = yellow

[core]
    # display non-ASCII characters (e.g. Polish) instead of quoting them
    quotepath = false
    # restore default pager behavior (needed because we manually set $LESS)
    pager = "less -FRX"

[diff]
    # detect renamed files and show only actual differences between them
    renames = copies
    submodule = log

[merge]
    # in case of merge conflict also show how common ancestor looked like
    conflictstyle = diff3

[pager]
    # don't wrap lines in log and blame output (needed since git 2.1)
    log = "less -S"
    blame = "less -S"
    # don't switch to alternate screen, output to terminal immediately
    detailed-submodule-status = "less -REXS"

[rebase]
    # automatically process "fixup!" commits when rebasing interactively
    autosquash = true

[submodule]
    recurse = true

[status]
    submodulesummary = true
